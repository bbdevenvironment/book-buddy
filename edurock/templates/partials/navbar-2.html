{% load static %}

<style>
  /* Desktop Sidebar Styles */
  @media (min-width: 1200px) {
    .headerarea__2 {
      position: fixed;
      top: 0;
      left: 0;
      width: 260px; /* Width of your sidebar */
      height: 100vh;
      background: #fff;
      border-right: 1px solid #eee;
      padding: 30px 20px;
      overflow-y: auto;
      z-index: 1000;
    }

    .desktop__menu__wrapper .row {
      flex-direction: column;
      align-items: flex-start !important;
    }

    .headerarea__left, .main_menu_wrap, .headerarea__right {
      width: 100%;
      padding: 0;
      margin-bottom: 30px;
    }

    /* Vertical Menu Adjustments */
    .headerarea__main__menu ul {
      display: block !important; /* Stack vertically */
      padding: 0;
    }

    .headerarea__main__menu ul li {
      margin-bottom: 10px;
      width: 100%;
    }

    .headerarea__main__menu ul li a {
      display: block;
      padding: 10px 0;
      font-size: 15px;
    }

    /* Dropdown adjustment for sidebar */
    .headerarea__submenu {
      position: relative !important;
      top: 0 !important;
      left: 0 !important;
      box-shadow: none !important;
      padding-left: 15px !important;
      display: none; /* Can be toggled with JS or show on hover */
      width: 100% !important;
    }

    .headerarea__has__dropdown:hover + .headerarea__submenu,
    .headerarea__submenu:hover {
      display: block;
    }

    .headerarea__right .d-flex {
      justify-content: flex-start !important;
      flex-direction: column;
      align-items: flex-start !important;
    }

    /* Offset for the rest of your website content */
    body {
      padding-left: 260px;
    }
  }

  /* Mobile remains horizontal/standard as per your request */
  @media (max-width: 1199px) {
    .mob_menu_wrapper {
      display: block;
    }
  }
</style>

<header>
  <div class="headerarea headerarea__2 header__area">
    <div class="container-fluid desktop__menu__wrapper">
      <div class="row">
        
        <div class="headerarea__left">
          <div class="headerarea__left__logo">
            <a href="{% url 'pages:dynamic_pages' template_name='index' %}">
              <img loading="lazy" src="{% static 'img/logo/logo_1.png' %}" alt="logo" style="max-width: 150px;">
            </a>
          </div>
        </div>

        <div class="main_menu_wrap">
          <div class="headerarea__main__menu">
            <nav>
              <ul>
                <li><a href="{% url 'pages:dynamic_pages' template_name='index' %}">Home</a></li>
                <li><a href="{% url 'pages:dynamic_pages' template_name='about' %}">About Us</a></li>
                
                <li>
                  <a class="headerarea__has__dropdown" href="{% url 'pages:dynamic_pages' template_name='coming-soon' %}">
                    Books & Membership <i class="icofont-rounded-down"></i>
                  </a>
                  <ul class="headerarea__submenu">
                    <li><a href="{% url 'pages:dynamic_pages' template_name='coming-soon' %}">Library Catalogue</a></li>
                    <li><a href="{% url 'pages:dynamic_pages' template_name='coming-soon' %}">Membership & Plans</a></li>
                  </ul>
                </li>

                <li>
                  <a class="headerarea__has__dropdown" href="#">
                    Beyond School <sup style="color: #ff0000; font-size: 9px;">CBSE</sup> <i class="icofont-rounded-down"></i>
                  </a>
                  <ul class="headerarea__submenu">
                    <li><a href="{% url 'pages:dynamic_pages' template_name='coming-soon' %}">Kids</a></li>
                    <li><a href="{% url 'pages:dynamic_pages' template_name='podcasts' %}">Podcasts</a></li>
                  </ul>
                </li>

                <li><a href="{% url 'pages:dynamic_pages' template_name='coming-soon' %}">Events</a></li>
              </ul>
            </nav>
          </div>
        </div>

        <div class="headerarea__right">
          <div class="d-flex" style="gap: 15px;">
            
            <div class="headerarea__login">
              <a href="{% url 'pages:dynamic_pages' template_name='coming-soon' %}" style="font-weight: 500; color: #333;">
                 Get Involved
              </a>
            </div>

            {% if user.is_authenticated %}
              <div class="headerarea__main__menu">
                <nav>
                  <ul>
                    <li class="headerarea__has__dropdown">
                      <a class="d-flex align-items-center" href="#" style="gap: 8px;">
                        <div class="user-avatar-wrap" style="width: 32px; height: 32px; border-radius: 50%; background: #5f2ded; display: flex; align-items: center; justify-content: center; color: white;">
                          {{ user.username|slice:":1"|upper }}
                        </div>
                        <span>{{ user.username }}</span>
                      </a>
                      <ul class="headerarea__submenu">
                        <li>
                          <form method="post" action="{% url 'account_logout' %}" id="logout-form" style="display:none;">{% csrf_token %}</form>
                          <a href="javascript:void(0)" onclick="document.getElementById('logout-form').submit();" style="color: #ff4b4b !important;">Logout</a>
                        </li>
                      </ul>
                    </li>
                  </ul>
                </nav>
              </div>
            {% else %}
              <div class="headerarea__button" style="position: relative; margin-top: 20px;">
                <span style="position: absolute; top: -18px; left: 0; font-size: 9px; font-weight: bold; color: #ff0000; text-transform: uppercase;">Guest Mode</span>
                <a href="{% url 'pages:dynamic_pages' template_name='login' %}" 
                   style="padding: 10px 25px; background: #5f2ded; color: #fff; border-radius: 5px; display: inline-block;">
                   Login
                </a>
              </div>
            {% endif %}
          </div>
        </div>

      </div>
    </div>

    <div class="container-fluid mob_menu_wrapper">
      <div class="row align-items-center">
        <div class="col-6">
          <div class="mobile-logo">
            <a class="logo__dark" href="#"><img loading="lazy" src="{% static 'img/logo/logo_1.png' %}" alt="logo"></a>
          </div>
        </div>
        <div class="col-6">
          <div class="header-right-wrap">
            <div class="mobile-off-canvas">
              <a class="mobile-aside-button" href="#"><i class="icofont-navigation-menu"></i></a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>